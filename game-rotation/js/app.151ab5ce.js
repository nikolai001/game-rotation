(function(){"use strict";var e={1518:function(e,t,a){var n=a(5130),r=a(9888),o=a(2132),s=a(6768),l=a(4232),i=a(144),u=a(1576),d=a.n(u);const c={class:"absolute bg-neutral-300 dark:bg-slate-800 w-4/12 min-w-44 max-w-80 aspect-video rounded-md shadow flex flex-col justify-center translate-y-8"},f=["textContent"],g={class:"flex mt-auto mb-5 justify-evenly w-2/3 mx-auto"},m=["textContent"];var p={__name:"RotationDialogComponent",props:{games:Object,dialogMessage:String},emits:["reload-data","close"],setup(e,{emit:t}){const a=t,n=e,r=(0,i.KR)(!1),o=(0,i.KR)("");function u(){let e=n.games.slice();for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e}async function d(){r.value=!0;try{const e=await fetch("uploadGames.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({games:u()})});if(!e.ok)throw o.value="Reshuffling of games failed",new Error(`HTTP error! status: ${e.status}`);a("reload-data"),a("close")}catch(o){console.error("Error uploading data:",o),o.value="Reshuffling of games failed"}finally{r.value=!1}setTimeout((()=>{o.value=""}),2e3)}return(e,t)=>{const a=(0,s.g2)("mdicon");return(0,s.uX)(),(0,s.CE)("div",c,[r.value?((0,s.uX)(),(0,s.Wv)(a,{key:0,class:"dark:text-neutral-100 text-slate-900 self-center mt-auto",name:"loading",spin:""})):(0,s.Q3)("",!0),(0,s.Lk)("span",{class:"dark:text-neutral-100 text-slate-900 self-center mt-auto text-center",textContent:(0,l.v_)(n.dialogMessage)},null,8,f),(0,s.Lk)("div",g,[(0,s.Lk)("button",{class:"bg-green-400 rounded-md shadow hover:shadow-md transition-shadow py-1 px-3 h-fit dark:text-neutral-100 text-slate-900",textContent:"Confirm",onClick:t[0]||(t[0]=e=>d())}),(0,s.Lk)("button",{class:"bg-red-400 rounded-md shadow hover:shadow-md transition-shadow py-1 px-3 h-fit dark:text-neutral-100 text-slate-900",textContent:"Cancel",onClick:t[1]||(t[1]=t=>e.$emit("close"))})]),(0,s.Lk)("span",{textContent:(0,l.v_)(o.value),class:"text-red-400 text-center mb-2"},null,8,m)])}}};const h=p;var v=h;const x={class:"rounded-md dark:bg-slate-700 bg-neutral-200 w-1/2 max-w-96 py-2 px-4 flex flex-col shadow-md mt-10"},y={key:0,class:"flex flex-col items-center"},b={key:1,textContent:"No games :(",class:"dark:text-neutral-100 text-slate-900"};var k={__name:"GameListComponent",props:{games:Object,lastUpdate:String},setup(e){const t=e,a=d()(),n=["Omg der er kun gået x antal dage din noob","Keder du dig seriøst allerede..?","Nåååå vi prøver rigtigt nok at snyde listen lille Pede","Har du fået lov til det her?","Enten så lyver du lige nu ellers spiller vi for meget"],r=["Ja det jo typisk dig... aldrig tid til at spille","DER ER GÅET x DAGE DIN NOOB","hvorfor spiller vi aldrig"],o=["DER ER GÅET EN DAG","SÅ SLAPPER DU","DER ER IKKE ENGANG GÅET ÈN DAG"],u=(0,i.KR)(!1),c=(0,s.EW)((()=>t.games.length>1));function f(){if(t.lastUpdate){let e=d()(t.lastUpdate);if(a.isSame(e,"day")){const e=Math.floor(Math.random()*o.length);return o[e]}if(a.isBefore(e.add(14,"day"))){const t=Math.floor(Math.random()*n.length);return n[t].replace("x",e.diff(a,"day"))}if(a.isAfter(e.add(1,"month"))){const t=Math.floor(Math.random()*r.length);return r[t].replace("x",a.diff(e,"day"))}return"Det er første gang du er tilfredsstillende tidsmæssigt... siger Sandra også"}return"Are you sure?"}return(a,n)=>((0,s.uX)(),(0,s.CE)("section",x,[c.value?((0,s.uX)(),(0,s.CE)("div",y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.games,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"dark:text-neutral-100 text-slate-900 text-center"},(0,l.v_)(e.name),1)))),128))])):((0,s.uX)(),(0,s.CE)("p",b)),c.value?((0,s.uX)(),(0,s.CE)("button",{key:2,textContent:"Fresh rotation",class:"self-end bg-green-400 rounded-md px-2 py-1 dark:text-neutral-100 text-slate-900 shadow hover:shadow-md transition-shadow mt-2",onClick:n[0]||(n[0]=e=>u.value=!0)})):(0,s.Q3)("",!0),u.value?((0,s.uX)(),(0,s.Wv)(v,{key:3,class:"self-center","dialog-message":f(),games:e.games,onClose:n[1]||(n[1]=e=>u.value=!1),onReloadData:n[2]||(n[2]=e=>a.$emit("reload-data"))},null,8,["dialog-message","games"])):(0,s.Q3)("",!0)]))}};const w=k;var C=w,E=a(7383),O=a(153);const R={class:"mt-2 flex group w-fit items-center ml-auto mr-2"},_=["textContent"],T=(0,s.Lk)("span",{class:"w-10 h-4 flex items-center flex-shrink-0 ml-4 p-1 bg-gray-300 rounded-full duration-300 ease-in-out peer-checked:bg-green-400 after:w-3 after:aspect-square after:bg-white after:rounded-full after:shadow-md after:duration-300 peer-checked:after:translate-x-5 group-hover:after:translate-x-1"},null,-1);var j={__name:"ToggleSwitchComponent",setup(e){const t=(0,E.C6J)(),a=(0,O.eY)(t);return(e,r)=>((0,s.uX)(),(0,s.CE)("label",R,[(0,s.Lk)("span",{class:"dark:text-neutral-100 text-slate-900",textContent:(0,l.v_)((0,i.R1)(t)?"Toggle light mode":"Toggle dark mode")},null,8,_),(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=e=>(0,i.i9)(t)?t.value=e:null),class:"peer appearance-none",onClick:r[1]||(r[1]=e=>(0,i.R1)(a)())},null,512),[[n.lH,(0,i.R1)(t)]]),T]))}};const S=j;var M=S;const D={class:"dark:bg-slate-900 bg-neutral-100 w-screen h-screen inline-block"};var G={__name:"App",setup(e){const t=(0,i.KR)([]),a=(0,i.KR)("");async function n(){try{let e=await fetch("games.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let a=await e.json();t.value=a.games}catch(e){console.error("Error fetching initial games list:",e)}}async function r(){try{let e=await fetch("fetchGames.php");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let r=await e.json();r.length>0&&r[0]&&r[0].games?(t.value=r[0].games.games,console.log(r[0].updated_at),a.value=r[0].updated_at):n()}catch(e){console.error("Error fetching data from backend:",e),n()}}return(0,s.sV)((async()=>{r()})),(e,n)=>((0,s.uX)(),(0,s.CE)("main",D,[(0,s.bF)(M),(0,s.bF)(C,{games:t.value,"last-update":a.value,class:"mx-auto",onReloadData:n[0]||(n[0]=e=>r())},null,8,["games","last-update"])]))}};const P=G;var X=P;(0,n.Ef)(X).use(r.A,{icons:o}).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],o=e[d][2];for(var l=!0,i=0;i<n.length;i++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,o<s&&(s=o));if(l){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],l=n[1],i=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var d=i(a)}for(t&&t(n);u<s.length;u++)o=s[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self["webpackChunkgame_rotation"]=self["webpackChunkgame_rotation"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(1518)}));n=a.O(n)})();
//# sourceMappingURL=app.151ab5ce.js.map