(function(){"use strict";var e={1518:function(e,t,n){var a=n(5130),o=n(9888),r=n(2132),s=n(6768),l=n(4232),u=n(144);const i={class:"absolute bg-neutral-300 dark:bg-slate-800 w-4/12 max-w-80 aspect-video rounded-md shadow flex flex-col justify-center translate-y-8"},c=["textContent"],d={class:"flex mt-auto mb-5 justify-evenly w-2/3 mx-auto"},f=["textContent"];var m={__name:"RotationDialogComponent",props:{games:Object,dialogMessage:String},emits:["reload-data","close"],setup(e,{emit:t}){const n=t,a=e,o=(0,u.KR)(!1),r=(0,u.KR)("");function m(){let e=a.games.slice();for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}async function g(){o.value=!0;try{const e=await fetch("uploadGames.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({games:m()})});if(!e.ok)throw r.value="Reshuffling of games failed",new Error(`HTTP error! status: ${e.status}`);n("reload-data"),n("close")}catch(r){console.error("Error uploading data:",r),r.value="Reshuffling of games failed"}finally{o.value=!1}setTimeout((()=>{r.value=""}),2e3)}return(e,t)=>{const n=(0,s.g2)("mdicon");return(0,s.uX)(),(0,s.CE)("div",i,[o.value?((0,s.uX)(),(0,s.Wv)(n,{key:0,class:"dark:text-neutral-100 text-slate-900 self-center mt-auto",name:"loading",spin:""})):(0,s.Q3)("",!0),(0,s.Lk)("span",{class:"dark:text-neutral-100 text-slate-900 self-center mt-auto",textContent:(0,l.v_)(a.dialogMessage)},null,8,c),(0,s.Lk)("div",d,[(0,s.Lk)("button",{class:"bg-green-400 rounded-md shadow hover:shadow-md transition-shadow py-1 px-3 h-fit dark:text-neutral-100 text-slate-900",textContent:"Confirm",onClick:t[0]||(t[0]=e=>g())}),(0,s.Lk)("button",{class:"bg-red-400 rounded-md shadow hover:shadow-md transition-shadow py-1 px-3 h-fit dark:text-neutral-100 text-slate-900",textContent:"Cancel",onClick:t[1]||(t[1]=t=>e.$emit("close"))})]),(0,s.Lk)("span",{textContent:(0,l.v_)(r.value),class:"text-red-400 text-center mb-2"},null,8,f)])}}};const g=m;var p=g;const h={class:"rounded-md dark:bg-slate-700 bg-neutral-200 w-1/2 max-w-96 py-2 px-4 flex flex-col shadow-md mt-10"},v={key:0,class:"flex flex-col items-center"},x={key:1,textContent:"No games :(",class:"dark:text-neutral-100 text-slate-900"};var b={__name:"GameListComponent",props:{games:Object},setup(e){const t=e,n=(0,u.KR)(!1),a=(0,s.EW)((()=>t.games.length>1));return(o,r)=>((0,s.uX)(),(0,s.CE)("section",h,[a.value?((0,s.uX)(),(0,s.CE)("div",v,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.games,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"dark:text-neutral-100 text-slate-900"},(0,l.v_)(e.name),1)))),128))])):((0,s.uX)(),(0,s.CE)("p",x)),a.value?((0,s.uX)(),(0,s.CE)("button",{key:2,textContent:"Fresh rotation",class:"self-end bg-green-400 rounded-md px-2 py-1 dark:text-neutral-100 text-slate-900 shadow hover:shadow-md transition-shadow mt-2",onClick:r[0]||(r[0]=e=>n.value=!0)})):(0,s.Q3)("",!0),n.value?((0,s.uX)(),(0,s.Wv)(p,{key:3,class:"self-center","dialog-message":"Are you sure?",games:e.games,onClose:r[1]||(r[1]=e=>n.value=!1),onReloadData:r[2]||(r[2]=e=>o.$emit("reload-data"))},null,8,["games"])):(0,s.Q3)("",!0)]))}};const k=b;var w=k,y=n(7383),C=n(153);const E={class:"mt-2 flex group w-fit items-center ml-auto mr-2"},_=["textContent"],O=(0,s.Lk)("span",{class:"w-10 h-4 flex items-center flex-shrink-0 ml-4 p-1 bg-gray-300 rounded-full duration-300 ease-in-out peer-checked:bg-green-400 after:w-3 after:aspect-square after:bg-white after:rounded-full after:shadow-md after:duration-300 peer-checked:after:translate-x-5 group-hover:after:translate-x-1"},null,-1);var j={__name:"ToggleSwitchComponent",setup(e){const t=(0,y.C6J)(),n=(0,C.eY)(t);return(e,o)=>((0,s.uX)(),(0,s.CE)("label",E,[(0,s.Lk)("span",{class:"dark:text-neutral-100 text-slate-900",textContent:(0,l.v_)((0,u.R1)(t)?"Toggle light mode":"Toggle dark mode")},null,8,_),(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=e=>(0,u.i9)(t)?t.value=e:null),class:"peer appearance-none",onClick:o[1]||(o[1]=e=>(0,u.R1)(n)())},null,512),[[a.lH,(0,u.R1)(t)]]),O]))}};const T=j;var R=T;const X={class:"dark:bg-slate-900 bg-neutral-100 w-screen h-screen inline-block"};var L={__name:"App",setup(e){const t=(0,u.KR)([]);async function n(){try{let e=await fetch("games.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let n=await e.json();t.value=n.games}catch(e){console.error("Error fetching initial games list:",e)}}async function a(){try{let e=await fetch("fetchGames.php");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let a=await e.json();a.length>0&&a[0]&&a[0].games?t.value=a[0].games.games:n()}catch(e){console.error("Error fetching data from backend:",e),n()}}return(0,s.sV)((async()=>{a()})),(e,n)=>((0,s.uX)(),(0,s.CE)("main",X,[(0,s.bF)(R),(0,s.bF)(w,{games:t.value,class:"mx-auto",onReloadData:n[0]||(n[0]=e=>a())},null,8,["games"])]))}};const S=L;var P=S;(0,a.Ef)(P).use(o.A,{icons:r}).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],r=e[c][2];for(var l=!0,u=0;u<a.length;u++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(l=!1,r<s&&(s=r));if(l){e.splice(c--,1);var i=o();void 0!==i&&(t=i)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,s=a[0],l=a[1],u=a[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(u)var c=u(n)}for(t&&t(a);i<s.length;i++)r=s[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunkgame_rotation"]=self["webpackChunkgame_rotation"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(1518)}));a=n.O(a)})();
//# sourceMappingURL=app.b7a5c11f.js.map